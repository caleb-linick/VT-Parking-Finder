{"ast":null,"code":"var _jsxFileName = \"/home/ugrads/majors/kennethlao120/VT-Parking-Finder/src/components/MapWithUpdatingCenter.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/**\n * MapWithUpdatingCenter.jsx\n * \n * Enhanced OpenStreetMap implementation with in-browser navigation features.\n * This component maintains the same API but adds routing capabilities.\n * \n * Features:\n * - Displays an interactive map with custom markers\n * - Centers on selected parking lot with smooth animations\n * - Detects user's location for navigation\n * - Shows directions from user's current location to parking lots\n * - Calculates distance and estimated travel time\n * \n * Changelog:\n * v1.1.0 (Current)\n * - Added user location detection functionality\n * - Implemented routing with Leaflet Routing Machine\n * - Added \"Navigate Here\" button to marker popups\n * - Enhanced error handling for location services\n * - Improved marker and route styling\n * - Added loading indicators during route calculation\n * \n * v1.0.0 (Original)\n * - Basic OpenStreetMap implementation with Leaflet\n * - Simple marker display without directions\n * - Basic center adjustment functionality\n * \n * @author VT Parking Finder Team\n * @version 1.5.0\n */\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-routing-machine/dist/leaflet-routing-machine.css';\nimport 'leaflet-routing-machine';\n\n// Fix for marker icon not displaying correctly in Leaflet with React\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n/**\n * Creates a custom marker icon based on the parking lot status\n * @param {string} status - The status of the parking lot ('Full', 'Some Open', or 'Available')\n * @returns {L.divIcon} A Leaflet divIcon with appropriate styling\n */\nconst createMarkerIcon = status => {\n  // Determine color based on parking status\n  const color = status === 'Full' ? 'red' : status === 'Some Open' ? 'yellow' : 'green';\n\n  // Create a custom div icon with the specified color\n  return L.divIcon({\n    className: 'custom-marker',\n    html: `<div style=\"background-color: ${color}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white;\"></div>`,\n    iconSize: [25, 25],\n    iconAnchor: [12, 12]\n  });\n};\n\n/**\n * Custom user location marker icon\n */\nconst userLocationIcon = L.divIcon({\n  className: 'user-location-marker',\n  html: `<div style=\"background-color: #2A93EE; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 0 5px rgba(42, 147, 238, 0.3);\"></div>`,\n  iconSize: [20, 20],\n  iconAnchor: [10, 10]\n});\n\n/**\n * A component that handles map center updates and routing\n * \n * @param {Object} props - Component props\n * @param {Array} props.center - The [lat, lng] coordinates to center the map on\n * @param {number} props.zoom - The zoom level to apply\n * @param {Array} props.userLocation - The user's location as [lat, lng]\n * @param {boolean} props.showRoute - Whether to show the route to the center\n * @returns {null} - This component doesn't render anything visible\n */\nconst MapController = ({\n  center,\n  zoom,\n  userLocation,\n  showRoute\n}) => {\n  _s();\n  const map = useMap();\n  const routingControlRef = useRef(null);\n\n  // Effect to handle map centering\n  useEffect(() => {\n    if (center) {\n      map.flyTo(center, zoom, {\n        animate: true,\n        duration: 1.5 // Duration of animation in seconds\n      });\n    }\n  }, [center, zoom, map]);\n\n  // Effect to handle routing\n  useEffect(() => {\n    // Clear existing route if present\n    if (routingControlRef.current) {\n      map.removeControl(routingControlRef.current);\n      routingControlRef.current = null;\n    }\n\n    // Create new route if userLocation and center are available and showRoute is true\n    if (userLocation && center && showRoute) {\n      const waypoints = [L.latLng(userLocation[0], userLocation[1]), L.latLng(center[0], center[1])];\n      routingControlRef.current = L.Routing.control({\n        waypoints,\n        routeWhileDragging: false,\n        showAlternatives: false,\n        fitSelectedRoutes: false,\n        show: false,\n        // Don't show the text instructions\n        lineOptions: {\n          styles: [{\n            color: '#800000',\n            opacity: 0.8,\n            weight: 6\n          },\n          // VT Maroon\n          {\n            color: '#FFF',\n            opacity: 0.3,\n            weight: 4\n          } // White outline\n          ],\n          extendToWaypoints: true,\n          missingRouteTolerance: 0\n        },\n        altLineOptions: {\n          styles: [{\n            color: '#FF6600',\n            opacity: 0.8,\n            weight: 6\n          },\n          // VT Orange\n          {\n            color: '#FFF',\n            opacity: 0.3,\n            weight: 4\n          } // White outline\n          ]\n        },\n        createMarker: () => null // Don't create default markers\n      }).addTo(map);\n\n      // Adjust map view to show the entire route\n      routingControlRef.current.on('routesfound', e => {\n        const routes = e.routes;\n        const summary = routes[0].summary;\n        console.log(`Distance: ${summary.totalDistance / 1000} km, Time: ${Math.round(summary.totalTime / 60)} minutes`);\n      });\n    }\n    return () => {\n      if (routingControlRef.current) {\n        map.removeControl(routingControlRef.current);\n      }\n    };\n  }, [map, userLocation, center, showRoute]);\n  return null;\n};\n\n/**\n * Main map component with enhanced navigation features\n * \n * @param {Object} props - Component props\n * @param {Array} props.center - The [lat, lng] coordinates to center the map on\n * @param {number} props.zoom - The zoom level to apply\n * @param {Array} props.markers - An array of marker objects to display on the map\n * @param {Function} props.onMarkerClick - Callback function when a marker is clicked\n * @returns {JSX.Element} The rendered map component\n */\n_s(MapController, \"ShuARGfR1HN0DfW1LRGQ0q0mgoQ=\", false, function () {\n  return [useMap];\n});\n_c = MapController;\nconst MapWithUpdatingCenter = ({\n  center,\n  zoom,\n  markers,\n  onMarkerClick\n}) => {\n  _s2();\n  const [userLocation, setUserLocation] = useState(null);\n  const [selectedMarker, setSelectedMarker] = useState(null);\n  const [showRoute, setShowRoute] = useState(false);\n  const [isLocating, setIsLocating] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Detect user's location\n  const getUserLocation = () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n    setIsLocating(true);\n    setError(null);\n    navigator.geolocation.getCurrentPosition(position => {\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      setUserLocation([latitude, longitude]);\n      setIsLocating(false);\n    }, error => {\n      console.error('Error getting user location:', error);\n      setError(`Unable to get your location: ${error.message}`);\n      setIsLocating(false);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    });\n  };\n\n  // Get user location on component mount\n  useEffect(() => {\n    getUserLocation();\n  }, []);\n\n  // Handle navigation request\n  const handleNavigate = marker => {\n    if (!userLocation) {\n      getUserLocation();\n      setSelectedMarker(marker);\n    } else {\n      setSelectedMarker(marker);\n      setShowRoute(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '100%',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: center || [37.225, -80.423] // Default to VT campus\n      ,\n      zoom: zoom || 14.6,\n      style: {\n        height: '100%',\n        width: '100%',\n        borderRadius: '4px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        attribution: \"\\xA9 <a href=\\\"https://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), userLocation && /*#__PURE__*/_jsxDEV(Marker, {\n        position: userLocation,\n        icon: userLocationIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Your Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), markers.map(marker => /*#__PURE__*/_jsxDEV(Marker, {\n        position: marker.position,\n        icon: marker.status ? createMarkerIcon(marker.status) : undefined,\n        eventHandlers: {\n          click: () => {\n            if (onMarkerClick) onMarkerClick(marker.id);\n            setSelectedMarker(marker);\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.popup,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: styles.popupTitle,\n              children: marker.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), marker.availableSpots !== undefined && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.popupInfo,\n              children: [\"Available: \", marker.availableSpots, \"/\", marker.totalSpots]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 19\n            }, this), marker.status && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: styles.popupStatus,\n              children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: marker.status === 'Full' ? 'red' : marker.status === 'Some Open' ? 'darkgoldenrod' : 'green',\n                  fontWeight: 'bold'\n                },\n                children: marker.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: styles.popupButtons,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onMarkerClick && onMarkerClick(marker.id),\n                style: styles.popupButton,\n                children: \"View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleNavigate(marker),\n                style: styles.navigateButton,\n                disabled: isLocating,\n                children: isLocating ? 'Getting Location...' : 'Navigate Here'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)\n      }, marker.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(MapController, {\n        center: selectedMarker ? selectedMarker.position : center,\n        zoom: selectedMarker ? 15 : zoom,\n        userLocation: userLocation,\n        showRoute: showRoute && !!selectedMarker\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.errorOverlay,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.errorContent,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.errorTitle,\n          children: \"Location Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setError(null),\n          style: styles.errorButton,\n          children: \"Dismiss\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => getUserLocation(),\n          style: styles.retryButton,\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this), isLocating && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loadingOverlay,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.loadingSpinner\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.loadingText,\n        children: \"Getting your location...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }, this), showRoute && selectedMarker && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.routeInfoPanel,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.routeInfoHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: styles.routeInfoTitle,\n          children: [\"Directions to \", selectedMarker.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRoute(false),\n          style: styles.closeButton,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.routeInfoContent,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Follow the highlighted route from your current location to the parking lot.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * Component styles\n */\n_s2(MapWithUpdatingCenter, \"TcsqrFFSpm97fC88IMO3efLJb2o=\");\n_c2 = MapWithUpdatingCenter;\nconst styles = {\n  popup: {\n    textAlign: 'center',\n    padding: '5px',\n    minWidth: '180px'\n  },\n  popupTitle: {\n    margin: '0 0 5px 0',\n    color: '#800000' // VT maroon\n  },\n  popupInfo: {\n    margin: '5px 0',\n    fontSize: '14px'\n  },\n  popupStatus: {\n    margin: '5px 0',\n    fontSize: '14px'\n  },\n  popupButtons: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '5px',\n    marginTop: '8px'\n  },\n  popupButton: {\n    backgroundColor: '#800000',\n    // VT maroon\n    color: 'white',\n    border: 'none',\n    padding: '5px 10px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontWeight: 'bold'\n  },\n  navigateButton: {\n    backgroundColor: '#FF6600',\n    // VT orange\n    color: 'white',\n    border: 'none',\n    padding: '5px 10px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontWeight: 'bold'\n  },\n  errorOverlay: {\n    position: 'absolute',\n    bottom: '20px',\n    left: '20px',\n    right: '20px',\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n    zIndex: 1000\n  },\n  errorContent: {\n    padding: '15px',\n    textAlign: 'center'\n  },\n  errorTitle: {\n    color: '#800000',\n    // VT maroon\n    margin: '0 0 10px 0'\n  },\n  errorButton: {\n    backgroundColor: '#800000',\n    // VT maroon\n    color: 'white',\n    border: 'none',\n    padding: '8px 15px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    margin: '0 5px'\n  },\n  retryButton: {\n    backgroundColor: '#FF6600',\n    // VT orange\n    color: 'white',\n    border: 'none',\n    padding: '8px 15px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    margin: '0 5px'\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    backgroundColor: 'white',\n    padding: '20px',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    zIndex: 1000\n  },\n  loadingSpinner: {\n    border: '4px solid rgba(128, 0, 0, 0.1)',\n    borderTop: '4px solid #800000',\n    // VT maroon\n    borderRadius: '50%',\n    width: '30px',\n    height: '30px',\n    animation: 'spin 1s linear infinite'\n  },\n  loadingText: {\n    marginTop: '10px',\n    color: '#333'\n  },\n  routeInfoPanel: {\n    position: 'absolute',\n    bottom: '20px',\n    left: '20px',\n    right: '20px',\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n    zIndex: 999\n  },\n  routeInfoHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '10px 15px',\n    borderBottom: '1px solid #eee'\n  },\n  routeInfoTitle: {\n    margin: 0,\n    color: '#800000',\n    // VT maroon\n    fontSize: '16px'\n  },\n  closeButton: {\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: '#333',\n    fontSize: '20px',\n    cursor: 'pointer',\n    padding: '0 5px'\n  },\n  routeInfoContent: {\n    padding: '15px'\n  }\n};\nexport default MapWithUpdatingCenter;\nvar _c, _c2;\n$RefreshReg$(_c, \"MapController\");\n$RefreshReg$(_c2, \"MapWithUpdatingCenter\");","map":{"version":3,"names":["React","useEffect","useState","useRef","MapContainer","TileLayer","Marker","Popup","useMap","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","createMarkerIcon","status","color","divIcon","className","html","iconSize","iconAnchor","userLocationIcon","MapController","center","zoom","userLocation","showRoute","_s","map","routingControlRef","flyTo","animate","duration","current","removeControl","waypoints","latLng","Routing","control","routeWhileDragging","showAlternatives","fitSelectedRoutes","show","lineOptions","styles","opacity","weight","extendToWaypoints","missingRouteTolerance","altLineOptions","createMarker","addTo","on","e","routes","summary","console","log","totalDistance","Math","round","totalTime","_c","MapWithUpdatingCenter","markers","onMarkerClick","_s2","setUserLocation","selectedMarker","setSelectedMarker","setShowRoute","isLocating","setIsLocating","error","setError","getUserLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","message","enableHighAccuracy","timeout","maximumAge","handleNavigate","marker","style","height","width","children","borderRadius","attribution","url","fileName","_jsxFileName","lineNumber","columnNumber","icon","undefined","eventHandlers","click","id","popup","popupTitle","name","availableSpots","popupInfo","totalSpots","popupStatus","fontWeight","popupButtons","onClick","popupButton","navigateButton","disabled","errorOverlay","errorContent","errorTitle","errorButton","retryButton","loadingOverlay","loadingSpinner","loadingText","routeInfoPanel","routeInfoHeader","routeInfoTitle","closeButton","routeInfoContent","_c2","textAlign","padding","minWidth","margin","fontSize","display","flexDirection","gap","marginTop","backgroundColor","border","cursor","bottom","left","right","boxShadow","zIndex","top","transform","alignItems","borderTop","animation","justifyContent","borderBottom","$RefreshReg$"],"sources":["/home/ugrads/majors/kennethlao120/VT-Parking-Finder/src/components/MapWithUpdatingCenter.jsx"],"sourcesContent":["/**\n * MapWithUpdatingCenter.jsx\n * \n * Enhanced OpenStreetMap implementation with in-browser navigation features.\n * This component maintains the same API but adds routing capabilities.\n * \n * Features:\n * - Displays an interactive map with custom markers\n * - Centers on selected parking lot with smooth animations\n * - Detects user's location for navigation\n * - Shows directions from user's current location to parking lots\n * - Calculates distance and estimated travel time\n * \n * Changelog:\n * v1.1.0 (Current)\n * - Added user location detection functionality\n * - Implemented routing with Leaflet Routing Machine\n * - Added \"Navigate Here\" button to marker popups\n * - Enhanced error handling for location services\n * - Improved marker and route styling\n * - Added loading indicators during route calculation\n * \n * v1.0.0 (Original)\n * - Basic OpenStreetMap implementation with Leaflet\n * - Simple marker display without directions\n * - Basic center adjustment functionality\n * \n * @author VT Parking Finder Team\n * @version 1.5.0\n */\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet-routing-machine/dist/leaflet-routing-machine.css';\nimport 'leaflet-routing-machine';\n\n// Fix for marker icon not displaying correctly in Leaflet with React\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\n/**\n * Creates a custom marker icon based on the parking lot status\n * @param {string} status - The status of the parking lot ('Full', 'Some Open', or 'Available')\n * @returns {L.divIcon} A Leaflet divIcon with appropriate styling\n */\nconst createMarkerIcon = (status) => {\n  // Determine color based on parking status\n  const color = status === 'Full' ? 'red' : \n               status === 'Some Open' ? 'yellow' : 'green';\n               \n  // Create a custom div icon with the specified color\n  return L.divIcon({\n    className: 'custom-marker',\n    html: `<div style=\"background-color: ${color}; width: 24px; height: 24px; border-radius: 50%; border: 2px solid white;\"></div>`,\n    iconSize: [25, 25],\n    iconAnchor: [12, 12],\n  });\n};\n\n/**\n * Custom user location marker icon\n */\nconst userLocationIcon = L.divIcon({\n  className: 'user-location-marker',\n  html: `<div style=\"background-color: #2A93EE; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 0 5px rgba(42, 147, 238, 0.3);\"></div>`,\n  iconSize: [20, 20],\n  iconAnchor: [10, 10],\n});\n\n/**\n * A component that handles map center updates and routing\n * \n * @param {Object} props - Component props\n * @param {Array} props.center - The [lat, lng] coordinates to center the map on\n * @param {number} props.zoom - The zoom level to apply\n * @param {Array} props.userLocation - The user's location as [lat, lng]\n * @param {boolean} props.showRoute - Whether to show the route to the center\n * @returns {null} - This component doesn't render anything visible\n */\nconst MapController = ({ center, zoom, userLocation, showRoute }) => {\n  const map = useMap();\n  const routingControlRef = useRef(null);\n  \n  // Effect to handle map centering\n  useEffect(() => {\n    if (center) {\n      map.flyTo(center, zoom, {\n        animate: true,\n        duration: 1.5 // Duration of animation in seconds\n      });\n    }\n  }, [center, zoom, map]);\n  \n  // Effect to handle routing\n  useEffect(() => {\n    // Clear existing route if present\n    if (routingControlRef.current) {\n      map.removeControl(routingControlRef.current);\n      routingControlRef.current = null;\n    }\n    \n    // Create new route if userLocation and center are available and showRoute is true\n    if (userLocation && center && showRoute) {\n      const waypoints = [\n        L.latLng(userLocation[0], userLocation[1]),\n        L.latLng(center[0], center[1])\n      ];\n      \n      routingControlRef.current = L.Routing.control({\n        waypoints,\n        routeWhileDragging: false,\n        showAlternatives: false,\n        fitSelectedRoutes: false,\n        show: false, // Don't show the text instructions\n        lineOptions: {\n          styles: [\n            { color: '#800000', opacity: 0.8, weight: 6 }, // VT Maroon\n            { color: '#FFF', opacity: 0.3, weight: 4 }     // White outline\n          ],\n          extendToWaypoints: true,\n          missingRouteTolerance: 0\n        },\n        altLineOptions: {\n          styles: [\n            { color: '#FF6600', opacity: 0.8, weight: 6 }, // VT Orange\n            { color: '#FFF', opacity: 0.3, weight: 4 }     // White outline\n          ]\n        },\n        createMarker: () => null // Don't create default markers\n      }).addTo(map);\n      \n      // Adjust map view to show the entire route\n      routingControlRef.current.on('routesfound', (e) => {\n        const routes = e.routes;\n        const summary = routes[0].summary;\n        console.log(`Distance: ${summary.totalDistance/1000} km, Time: ${Math.round(summary.totalTime/60)} minutes`);\n      });\n    }\n    \n    return () => {\n      if (routingControlRef.current) {\n        map.removeControl(routingControlRef.current);\n      }\n    };\n  }, [map, userLocation, center, showRoute]);\n  \n  return null;\n};\n\n/**\n * Main map component with enhanced navigation features\n * \n * @param {Object} props - Component props\n * @param {Array} props.center - The [lat, lng] coordinates to center the map on\n * @param {number} props.zoom - The zoom level to apply\n * @param {Array} props.markers - An array of marker objects to display on the map\n * @param {Function} props.onMarkerClick - Callback function when a marker is clicked\n * @returns {JSX.Element} The rendered map component\n */\nconst MapWithUpdatingCenter = ({ center, zoom, markers, onMarkerClick }) => {\n  const [userLocation, setUserLocation] = useState(null);\n  const [selectedMarker, setSelectedMarker] = useState(null);\n  const [showRoute, setShowRoute] = useState(false);\n  const [isLocating, setIsLocating] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Detect user's location\n  const getUserLocation = () => {\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported by your browser');\n      return;\n    }\n    \n    setIsLocating(true);\n    setError(null);\n    \n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        const { latitude, longitude } = position.coords;\n        setUserLocation([latitude, longitude]);\n        setIsLocating(false);\n      },\n      (error) => {\n        console.error('Error getting user location:', error);\n        setError(`Unable to get your location: ${error.message}`);\n        setIsLocating(false);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0\n      }\n    );\n  };\n  \n  // Get user location on component mount\n  useEffect(() => {\n    getUserLocation();\n  }, []);\n  \n  // Handle navigation request\n  const handleNavigate = (marker) => {\n    if (!userLocation) {\n      getUserLocation();\n      setSelectedMarker(marker);\n    } else {\n      setSelectedMarker(marker);\n      setShowRoute(true);\n    }\n  };\n\n  return (\n    <div style={{ position: 'relative', height: '100%', width: '100%' }}>\n      <MapContainer \n        center={center || [37.225, -80.423]} // Default to VT campus\n        zoom={zoom || 14.6}\n        style={{ height: '100%', width: '100%', borderRadius: '4px' }}\n      >\n        {/* Base map tile layer - uses OpenStreetMap */}\n        <TileLayer\n          attribution='&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        \n        {/* User location marker */}\n        {userLocation && (\n          <Marker position={userLocation} icon={userLocationIcon}>\n            <Popup>\n              <div>\n                <strong>Your Location</strong>\n              </div>\n            </Popup>\n          </Marker>\n        )}\n        \n        {/* Parking lot markers */}\n        {markers.map((marker) => (\n          <Marker\n            key={marker.id}\n            position={marker.position}\n            icon={marker.status ? createMarkerIcon(marker.status) : undefined}\n            eventHandlers={{\n              click: () => {\n                if (onMarkerClick) onMarkerClick(marker.id);\n                setSelectedMarker(marker);\n              }\n            }}\n          >\n            <Popup>\n              <div style={styles.popup}>\n                <h3 style={styles.popupTitle}>{marker.name}</h3>\n                {/* Only show availability if the data exists */}\n                {marker.availableSpots !== undefined && (\n                  <p style={styles.popupInfo}>\n                    Available: {marker.availableSpots}/{marker.totalSpots}\n                  </p>\n                )}\n                {/* Only show status if the data exists */}\n                {marker.status && (\n                  <p style={styles.popupStatus}>\n                    Status: <span style={{\n                      color: marker.status === 'Full' ? 'red' : \n                             marker.status === 'Some Open' ? 'darkgoldenrod' : 'green',\n                      fontWeight: 'bold'\n                    }}>\n                      {marker.status}\n                    </span>\n                  </p>\n                )}\n                <div style={styles.popupButtons}>\n                  <button \n                    onClick={() => onMarkerClick && onMarkerClick(marker.id)} \n                    style={styles.popupButton}\n                  >\n                    View Details\n                  </button>\n                  <button \n                    onClick={() => handleNavigate(marker)} \n                    style={styles.navigateButton}\n                    disabled={isLocating}\n                  >\n                    {isLocating ? 'Getting Location...' : 'Navigate Here'}\n                  </button>\n                </div>\n              </div>\n            </Popup>\n          </Marker>\n        ))}\n        \n        {/* Map controller for centering and routing */}\n        <MapController \n          center={selectedMarker ? selectedMarker.position : center}\n          zoom={selectedMarker ? 15 : zoom}\n          userLocation={userLocation}\n          showRoute={showRoute && !!selectedMarker}\n        />\n      </MapContainer>\n      \n      {/* Error message overlay */}\n      {error && (\n        <div style={styles.errorOverlay}>\n          <div style={styles.errorContent}>\n            <h3 style={styles.errorTitle}>Location Error</h3>\n            <p>{error}</p>\n            <button \n              onClick={() => setError(null)} \n              style={styles.errorButton}\n            >\n              Dismiss\n            </button>\n            <button \n              onClick={() => getUserLocation()} \n              style={styles.retryButton}\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {/* Loading indicator */}\n      {isLocating && (\n        <div style={styles.loadingOverlay}>\n          <div style={styles.loadingSpinner}></div>\n          <p style={styles.loadingText}>Getting your location...</p>\n        </div>\n      )}\n      \n      {/* Route info panel */}\n      {showRoute && selectedMarker && (\n        <div style={styles.routeInfoPanel}>\n          <div style={styles.routeInfoHeader}>\n            <h3 style={styles.routeInfoTitle}>\n              Directions to {selectedMarker.name}\n            </h3>\n            <button \n              onClick={() => setShowRoute(false)} \n              style={styles.closeButton}\n            >\n              Ã—\n            </button>\n          </div>\n          <div style={styles.routeInfoContent}>\n            <p>Follow the highlighted route from your current location to the parking lot.</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\n/**\n * Component styles\n */\nconst styles = {\n  popup: {\n    textAlign: 'center',\n    padding: '5px',\n    minWidth: '180px',\n  },\n  popupTitle: {\n    margin: '0 0 5px 0',\n    color: '#800000', // VT maroon\n  },\n  popupInfo: {\n    margin: '5px 0',\n    fontSize: '14px',\n  },\n  popupStatus: {\n    margin: '5px 0',\n    fontSize: '14px',\n  },\n  popupButtons: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '5px',\n    marginTop: '8px',\n  },\n  popupButton: {\n    backgroundColor: '#800000', // VT maroon\n    color: 'white',\n    border: 'none',\n    padding: '5px 10px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n  },\n  navigateButton: {\n    backgroundColor: '#FF6600', // VT orange\n    color: 'white',\n    border: 'none',\n    padding: '5px 10px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    fontWeight: 'bold',\n  },\n  errorOverlay: {\n    position: 'absolute',\n    bottom: '20px',\n    left: '20px',\n    right: '20px',\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n    zIndex: 1000,\n  },\n  errorContent: {\n    padding: '15px',\n    textAlign: 'center',\n  },\n  errorTitle: {\n    color: '#800000', // VT maroon\n    margin: '0 0 10px 0',\n  },\n  errorButton: {\n    backgroundColor: '#800000', // VT maroon\n    color: 'white',\n    border: 'none',\n    padding: '8px 15px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    margin: '0 5px',\n  },\n  retryButton: {\n    backgroundColor: '#FF6600', // VT orange\n    color: 'white',\n    border: 'none',\n    padding: '8px 15px',\n    borderRadius: '4px',\n    cursor: 'pointer',\n    margin: '0 5px',\n  },\n  loadingOverlay: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    backgroundColor: 'white',\n    padding: '20px',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    zIndex: 1000,\n  },\n  loadingSpinner: {\n    border: '4px solid rgba(128, 0, 0, 0.1)',\n    borderTop: '4px solid #800000', // VT maroon\n    borderRadius: '50%',\n    width: '30px',\n    height: '30px',\n    animation: 'spin 1s linear infinite',\n  },\n  loadingText: {\n    marginTop: '10px',\n    color: '#333',\n  },\n  routeInfoPanel: {\n    position: 'absolute',\n    bottom: '20px',\n    left: '20px',\n    right: '20px',\n    backgroundColor: 'white',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',\n    zIndex: 999,\n  },\n  routeInfoHeader: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '10px 15px',\n    borderBottom: '1px solid #eee',\n  },\n  routeInfoTitle: {\n    margin: 0,\n    color: '#800000', // VT maroon\n    fontSize: '16px',\n  },\n  closeButton: {\n    backgroundColor: 'transparent',\n    border: 'none',\n    color: '#333',\n    fontSize: '20px',\n    cursor: 'pointer',\n    padding: '0 5px',\n  },\n  routeInfoContent: {\n    padding: '15px',\n  },\n};\n\nexport default MapWithUpdatingCenter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}